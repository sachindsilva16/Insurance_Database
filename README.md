# `Insurance Database`


CREATE DATABASE INSURANCE_DATABASE_2;
USE INSURANCE_DATABASE_2;



### ``--TABLE: PERSON``

CREATE TABLE PERSON(
DRIVER_ID VARCHAR(10) PRIMARY KEY,
NAME VARCHAR(20),
ADDRESS VARCHAR(50),
);

SELECT * FROM PERSON;


### ``--TABLE: CAR``

CREATE TABLE CAR(
REG_NUMBER VARCHAR(10) PRIMARY KEY,
MODEL VARCHAR(20),
MODEL_YEAR INT
);

SELECT * FROM CAR;


### ``--TABLE: ACCIDENT``

CREATE TABLE ACCIDENT(
REPORT_NUMBER INT PRIMARY KEY,
ACCIDENT_DATE DATE,
LOCATION VARCHAR(20)
);

SELECT * FROM ACCIDENT;

### ``--TABLE: OWNS``

CREATE TABLE OWNS(
DRIVER_ID VARCHAR(10),
REG_NUMBER VARCHAR(10)
);

SELECT * FROM OWNS;

--TABLE: PARTICIPATED

CREATE TABLE PARTICIPATED(
DRIVER_ID VARCHAR(10),
REG_NUMBER VARCHAR(10),
REPORT_NUMBER INT,
DAMAGE_AMOUNT INT
);

SELECT * FROM PARTICIPATED;

ALTER TABLE OWNS ADD FOREIGN KEY(DRIVER_ID) REFERENCES PERSON(DRIVER_ID);

ALTER TABLE OWNS ADD FOREIGN KEY(REG_NUMBER) REFERENCES CAR(REG_NUMBER);

ALTER TABLE PARTICIPATED ADD FOREIGN KEY(REG_NUMBER) REFERENCES CAR(REG_NUMBER);

ALTER TABLE PARTICIPATED ADD FOREIGN KEY(DRIVER_ID) REFERENCES PERSON(DRIVER_ID);

ALTER TABLE PARTICIPATED ADD FOREIGN KEY(REPORT_NUMBER) REFERENCES ACCIDENT(REPORT_NUMBER);

--INSERT TABLE: PERSON`
INSERT INTO PERSON VALUES('UDP000192','ROHAN','UDUPI');
INSERT INTO PERSON VALUES('MNG001494','STUART OLIVERA','MANGALORE');
INSERT INTO PERSON VALUES('UDP008753','SACHIN RONS','UDUPI');
INSERT INTO PERSON VALUES('BNG008567','SOHAN','BANGALORE');
INSERT INTO PERSON VALUES('MMB004563','STEVE','MUMBAI');
INSERT INTO PERSON VALUES('UDP004519','SHAUN','UDUPI');
INSERT INTO PERSON VALUES('MNG008734','SHAWN DZ','SHIRVA');


--INSERT TABLE: CAR

INSERT INTO CAR VALUES('KA20M1231','NISSAN ALTIMA','2022');
INSERT INTO CAR VALUES('MH02G1472','AUDI A4','2020');
INSERT INTO CAR VALUES('PB04B332','BMW X7','2022');
INSERT INTO CAR VALUES('MH24G2671','PORSCHE 911','2021');
INSERT INTO CAR VALUES('KA21M4699','CELERIO','2019');
INSERT INTO CAR VALUES('JK14U897','MERCEDES A-CLASS','2021');
INSERT INTO CAR VALUES('LD17T5643','MS S-CROSS','2018');

--INSERT TABLE: ACCIDENT


INSERT INTO ACCIDENT VALUES('13579246','2006-07-02','UDUPI');
INSERT INTO ACCIDENT VALUES('13578965','2008-05-11','UDUPI');
INSERT INTO ACCIDENT VALUES('83579786','2020-12-30','MANGALORE');
INSERT INTO ACCIDENT VALUES('26779227','2019-03-25','KARKALA');
INSERT INTO ACCIDENT VALUES('53579289','2019-04-15','MALPE');
INSERT INTO ACCIDENT VALUES('13577841','2016-08-14','TRASI');
INSERT INTO ACCIDENT VALUES('33803846','2021-09-05','KUNDAPUR');
INSERT INTO ACCIDENT VALUES('13867627','2015-03-15','BANGALORE');
INSERT INTO ACCIDENT VALUES('29746637','2016-01-26','KAUP');

SELECT * FROM ACCIDENT;

--INSERT TABLE: OWNS


INSERT INTO OWNS VALUES('BNG008567','PB04B332');
INSERT INTO OWNS VALUES('MNG008734','LD17T5643');
INSERT INTO OWNS VALUES('UDP000192','MH02G1472');
INSERT INTO OWNS VALUES('UDP004519','MH24G2671');
INSERT INTO OWNS VALUES('MMB004563','KA21M4699');
INSERT INTO OWNS VALUES('UDP008753','JK14U897');
INSERT INTO OWNS VALUES('MNG001494','KA20M1231');

--INSERT TABLE: PARTICIPATED

INSERT INTO PARTICIPATED VALUES('MNG008734','LD17T5643','29746637',20000);
INSERT INTO PARTICIPATED VALUES('UDP004519','MH24G2671','13867627',100000);
INSERT INTO PARTICIPATED VALUES('UDP008753','JK14U897','33803846',15500);
INSERT INTO PARTICIPATED VALUES('BNG008567','PB04B332','13577841',22000);
INSERT INTO PARTICIPATED VALUES('UDP000192','MH02G1472','UDP008753',12000);
INSERT INTO PARTICIPATED VALUES('MNG001494','KA20M1231','13579246',33300);


SELECT * FROM PARTICIPATED;


--> Queries

SELECT p.DRIVER_ID,c.REG_NUMBER
FROM PERSON p,OWNS o,CAR c
WHERE ADDRESS='UDUPI' AND p.DRIVER_ID=o.DRIVER_ID AND c.REG_NUMBER=o.REG_NUMBER;
